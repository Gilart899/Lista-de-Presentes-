<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Lista de Presentes ‚Äî Cris & Edson</title>
<style>
  /* === Paleta e tipografia === */
  :root{
    --bg-from:#fffaf3;
    --bg-to:#f7e7c7;
    --gold-1:#cfa34a;
    --gold-2:#b8860b;
    --text:#2b251f;
    --muted:#6b5e4a;
    --card:#fffdf8;
    --accent-shadow: rgba(11,15,31,0.06);
    --radius:14px;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: 'Georgia', serif;
    color:var(--text);
    background: linear-gradient(180deg, var(--bg-from), var(--bg-to));
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    padding:28px 16px;
  }

  /* === Florais nas bordas (SVG embutido como pseudo-elements) === */
  .page {
    max-width:1080px;
    margin:0 auto;
    position:relative;
    padding:28px;
    border-radius:20px;
    background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.95));
    box-shadow:0 14px 40px var(--accent-shadow);
    overflow:visible;
  }
  /* small decorative floral SVG as data URI */
  .page::before,
  .page::after{
    content:"";
    position:absolute;
    width:260px;
    height:260px;
    background-repeat:no-repeat;
    opacity:0.95;
    pointer-events:none;
  }
  /* top-left floral */
  .page::before{
    left:-80px;
    top:-80px;
    background-image: url("data:image/svg+xml;utf8,<?xml version='1.0' encoding='utf-8'?><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'><g fill='%23e9d9a2'><circle cx='40' cy='40' r='40'/></g><g fill='%23f7edd6'><path d='M110 20c12 8 24 20 26 36 2 18-8 34-26 42-18 8-36 6-52-6 18-2 32-12 42-26 8-12 10-28 10-46z' /></g></svg>");
    transform:rotate(-12deg);
  }
  /* bottom-right floral */
  .page::after{
    right:-80px;
    bottom:-80px;
    background-image: url("data:image/svg+xml;utf8,<?xml version='1.0' encoding='utf-8'?><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'><g fill='%23f1e3c3'><rect x='0' y='0' width='200' height='200' fill='none' /></g><g fill='%23e6cfa0'><path d='M60 30c18 0 36 10 44 26 8 16 6 36-8 50-14 14-36 18-56 8 8-18 24-30 34-44 8-12 12-24 -14-40z' /></g></svg>");
    transform:rotate(8deg);
  }

  header{
    text-align:center;
    padding:18px 6px 8px 6px;
    border-bottom:1px solid rgba(184,154,89,0.06);
    margin-bottom:18px;
  }
  header h1{
    margin:0;
    color:var(--gold-2);
    font-size:34px;
    letter-spacing:0.6px;
  }
  header p{margin:8px 0 0 0;color:var(--muted);font-size:15px}

  main{padding:8px 2px 22px 2px}

  /* Grid responsivo de cart√µes */
  .grid{
    display:grid;
    gap:18px;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    align-items:start;
  }

  .card{
    background:var(--card);
    border-radius:var(--radius);
    overflow:hidden;
    border:1px solid rgba(184,154,89,0.06);
    box-shadow:0 8px 22px var(--accent-shadow);
    display:flex;
    flex-direction:column;
    align-items:stretch;
    transition:transform .22s, box-shadow .22s;
  }
  .card:hover{ transform:translateY(-6px); box-shadow:0 18px 48px rgba(11,15,31,0.12); }

  .thumb{
    width:100%;
    height:220px;
    background:#fff;
    display:block;
    border-bottom:1px solid rgba(184,154,89,0.03);
  }
  .thumb img{
    width:100%;
    height:100%;
    object-fit:contain; /* keep product visible on white background */
    display:block;
    background:#fff;
    padding:18px;
  }

  .card-body{
    padding:18px;
    display:flex;
    flex-direction:column;
    gap:10px;
    align-items:stretch;
  }
  .title{
    font-size:18px;
    margin:0;
    font-weight:700;
    color:var(--text);
    font-family: 'Georgia', serif;
    text-align:center;
  }
  .meta{
    display:flex;
    gap:12px;
    align-items:center;
    justify-content:center;
    margin-top:6px;
  }
  .badge{
    display:inline-block;
    padding:8px 12px;
    border-radius:999px;
    font-weight:700;
    font-size:13px;
    background: linear-gradient(90deg, rgba(233,236,229,0.9), rgba(250,245,238,0.9));
    color:#065f46;
  }
  .btn{
    background: linear-gradient(90deg, var(--gold-1), var(--gold-2));
    color:#fff;
    border:0;
    padding:10px 14px;
    border-radius:10px;
    font-weight:700;
    cursor:pointer;
    box-shadow:0 8px 18px rgba(184,134,11,0.12);
  }
  .btn:disabled{ opacity:0.6; cursor:not-allowed }

  footer{
    margin-top:22px;
    text-align:center;
    color:var(--muted);
    font-size:14px;
  }

  /* small screens adjust */
  @media (max-width:520px){
    header h1{ font-size:28px }
    .thumb{ height:200px }
    body{ padding:18px 10px }
  }
</style>
</head>
<body>
  <div class="page" role="application" aria-label="Lista de Presentes Cris e Edson">
    <header>
      <h1>Lista de Presentes ‚Äî Cris & Edson</h1>
      <p>Escolha o presente, confirme pelo WhatsApp e n√≥s agradecemos com carinho üíõ</p>
    </header>

    <main>
      <section class="grid" id="giftGrid" aria-live="polite"></section>
    </main>

    <footer>
      Confirma√ß√µes pelo WhatsApp: <strong>+55 79 99914-5044</strong>
    </footer>
  </div>

<script>
/* =========================
   Configura√ß√µes (mude aqui)
   ========================= */
const WHATSAPP = '5579999145044';
const STORAGE_KEY = 'lista_presentes_cris_edson_flower_v1';

/* Seis presentes (imagens diretas do Unsplash por photo ID ‚Äî est√°veis) */
const initialItems = [
  { name: 'Garrafa t√©rmica / caf√© (Branca)', img: 'https://images.unsplash.com/photo-1601050690597-1f5b7a9ec7dc?auto=format&fit=crop&w=860&q=80' },
  { name: 'Sanduicheira el√©trica (Preta)',      img: 'https://images.unsplash.com/photo-1606813902912-9fef8f98a1e8?auto=format&fit=crop&w=860&q=80' },
  { name: 'Liquidificador (Preto)',            img: 'https://images.unsplash.com/photo-1615874959474-d609969a20ed?auto=format&fit=crop&w=860&q=80' },
  { name: 'Conjunto de copos',                 img: 'https://images.unsplash.com/photo-1603190287605-e06a6c3100a5?auto=format&fit=crop&w=860&q=80' },
  { name: 'Espremedor de frutas (Preto)',      img: 'https://images.unsplash.com/photo-1615485293864-b2f1a13c0e3f?auto=format&fit=crop&w=860&q=80' },
  { name: 'X√≠caras com pires (Brancas)',       img: 'https://images.unsplash.com/photo-1552566626-52f8b828add9?auto=format&fit=crop&w=860&q=80' }
];

/* =========================
   Carregamento / Persist√™ncia
   ========================= */
function loadState(){
  try{
    const raw = localStorage.getItem(STORAGE_KEY);
    if(!raw) return initialItems.map(i => ({...i, chosen:false, by:''}));
    const parsed = JSON.parse(raw);
    // ensure each item has an image (fallback to initial)
    return parsed.map((p,i) => ({ name: p.name || initialItems[i].name, img: p.img || initialItems[i].img, chosen: !!p.chosen, by: p.by || '' }));
  }catch(e){
    return initialItems.map(i => ({...i, chosen:false, by:''}));
  }
}
function saveState(items){ localStorage.setItem(STORAGE_KEY, JSON.stringify(items)); }

let items = loadState();

/* =========================
   Render
   ========================= */
const grid = document.getElementById('giftGrid');

function makeFallbackImg(el){
  // create an elegant neutral placeholder (SVG data URL)
  const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='800' height='600'><rect width='100%' height='100%' fill='%23faf6ef'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' fill='%23d0c2a0' font-size='28'>Imagem indispon√≠vel</text></svg>`;
  el.src = 'data:image/svg+xml;utf8,' + encodeURIComponent(svg);
}

function render(){
  grid.innerHTML = '';
  items.forEach((it, idx) => {
    const card = document.createElement('article');
    card.className = 'card';

    const thumb = document.createElement('div');
    thumb.className = 'thumb';
    const img = document.createElement('img');
    img.alt = it.name;
    img.src = it.img;
    // fallback onerror to avoid broken image icons
    img.onerror = () => makeFallbackImg(img);
    thumb.appendChild(img);

    const body = document.createElement('div');
    body.className = 'card-body';

    const title = document.createElement('h3');
    title.className = 'title';
    title.textContent = it.name;

    const meta = document.createElement('div');
    meta.className = 'meta';

    const badge = document.createElement('span');
    badge.className = 'badge';
    badge.textContent = it.chosen ? `Escolhido por ${it.by}` : 'Dispon√≠vel';

    const btn = document.createElement('button');
    btn.className = 'btn';
    btn.textContent = it.chosen ? 'J√° escolhido' : 'Escolher este presente';
    if(it.chosen) btn.disabled = true;

    meta.appendChild(badge);
    meta.appendChild(btn);

    body.appendChild(title);
    body.appendChild(meta);

    card.appendChild(thumb);
    card.appendChild(body);

    // event
    btn.addEventListener('click', () => {
      // 1) pedir nome
      const guest = prompt('Digite seu nome para confirmar o presente üéÅ:');
      if(!guest) return;
      // optimistic update
      items[idx].chosen = true;
      items[idx].by = guest;
      saveState(items);
      render();
      // 2) abrir WhatsApp com mensagem
      const text = `Ol√° Cris & Edson! Eu, ${guest}, escolhi o presente ${it.name} üéÅ`;
      const waUrl = `https://wa.me/${WHATSAPP}?text=${encodeURIComponent(text)}`;
      // abrir em nova aba (em celular deve abrir o app)
      window.open(waUrl, '_blank');
    });

    grid.appendChild(card);
  });
}

/* inicializa render */
render();

/* expor atualiza√ß√µes ao console (opcional) */
console.log('Lista de Presentes ‚Äî Cris & Edson ‚Äî carregado', items);
</script>
</body>
</html>
